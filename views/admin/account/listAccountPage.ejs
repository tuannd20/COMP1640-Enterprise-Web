<div class="m-1 overflow-x-auto">
  <div
    class="flex justify-center min-h-screen overflow-hidden font-sans min-w-screen"
  >
    <div class="w-full lg:w-5/6">
      <div class="relative flex justify-end mt-20 mb-10 create-btn">
        <a href="/admin/account/create">
          <button
            type="button"
            class="inline-block px-6 py-4 text-xs font-medium leading-tight text-white uppercase transition duration-150 ease-in-out rounded shadow-md bg-sky-900 hover:bg-sky-400 hover:shadow-lg focus:bg-blue-400 focus:shadow-lg focus:outline-none focus:ring-0 active: active:shadow-lg"
          >
            New Account
          </button>
        </a>
      </div>
      <div class="my-6 bg-white rounded shadow-md">
        <table class="w-full table-auto min-w-max" id="table_list_account">
          <thead>
            <tr
              class="text-sm leading-normal text-gray-600 uppercase bg-gray-200"
            >
              <th class="px-6 py-3 text-left">ID</th>
              <th class="px-6 py-3 text-left">Full Name</th>
              <th class="px-6 py-3 text-left">Email</th>
              <th class="px-6 py-3 text-left">Address</th>
              <th class="px-6 py-3 text-center">Phone Number</th>
              <th class="px-6 py-3 text-left">Department</th>
              <th class="px-6 py-3 text-left">Role</th>
              <th class="px-6 py-3 text-center">Active</th>
              <th class="px-6 py-3 text-center">Actions</th>
            </tr>
          </thead>
          <tbody class="text-sm font-light text-gray-600">
            <% let count = staffs.length %> <% staffs.forEach(function(staff,
            index) { %>
            <tr class="border-b border-gray-200 hover:bg-gray-100">
              <td class="px-6 py-3 text-left">
                <span class="font-medium"><%= ++index %></span>
              </td>
              <td class="px-6 py-3 text-left">
                <span class="font-medium"><%= staff.fullName %></span>
              </td>
              <td class="px-6 py-3 text-left">
                <span class="font-medium"><%= staff.email %></span>
              </td>
              <td class="px-6 py-3 text-left">
                <span class="font-medium"><%= staff.address %></span>
              </td>
              <td class="px-6 py-3 text-center">
                <span class="font-medium"><%= staff.phoneNumber %></span>
              </td>
              <td class="px-6 py-3 text-left">
                <span class="font-medium"
                  ><%= staff.idDepartment.nameDepartment %></span
                >
              </td>
              <td class="px-6 py-3 text-left">
                <span class="font-medium"><%= staff.idRole.nameRole %></span>
              </td>
              <% if (staff.lockAccount === true) { %>
              <td class="px-6 py-3 text-center">
                <span
                  class="px-3 py-1 text-xs text-white bg-green-600 rounded-full"
                  >Active</span
                >
              </td>
              <%}else { %>
              <td class="px-6 py-3 text-center">
                <span
                  class="px-3 py-1 text-xs text-white bg-red-600 rounded-full"
                  >Block</span
                >
              </td>
              <% } %>
              <td class="px-6 py-3 text-center">
                <div class="flex justify-center item-center">
                  <div
                    class="w-6 mr-2 transform hover:text-sky-900 hover:scale-110"
                  >
                    <a href="/admin/account/edit/<%= staff.id %>">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"
                        />
                      </svg>
                    </a>
                  </div>
                </div>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<script>
  const dropMenu = document.getElementById("menu_icon");
  const drop = document.getElementById("dropdown");
  function dropdown() {
    drop.classList.toggle("hidden");
  }

  function dropdownDismiss() {
    drop.classList.add("hidden");
  }

  dropMenu.addEventListener("click", () => {
    dropdown();
  });

  drop.addEventListener("mouseleave", () => {
    dropdownDismiss();
  });
</script>
